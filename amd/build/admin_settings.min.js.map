{"version":3,"file":"admin_settings.min.js","sources":["../src/admin_settings.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n//\n// Admin settings.  Go back to the current tab after save.\n//\n// @module     theme_adaptable/admin_settings\n// @copyright  2024 G J Barnard.\n// @author     G J Barnard -\n//               {@link https://moodle.org/user/profile.php?id=442195}\n//               {@link https://gjbarnard.co.uk}\n// @license    https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later.\n//\n\nimport log from 'core/log';\n\n/**\n * Initialise this module.\n */\nexport const init = () => {\n    const stickyTabs = () => {\n        const tabels = document.querySelectorAll('a[data-toggle=\"tab\"]');\n        if (tabels.length) {\n            const action = document.querySelector('form#adminsettings');\n            tabels.forEach(tabel => {\n                tabel.addEventListener(\n                    \"click\",\n                    (event) => {\n                        log.debug(\"Tab clicky! \" + event.target.href);\n                        action.setAttribute('action', event.target.href);\n                    },\n                    false,\n                );\n            });\n        }\n    };\n\n    log.debug('Adaptable ES6 Admin settings init');\n    if (document.readyState !== 'loading') {\n        log.debug(\"Adaptable ES6 Admin settings JS DOM content already loaded\");\n        stickyTabs();\n    } else {\n        log.debug(\"Adaptable ES6 Admin settings JS DOM content not loaded\");\n        document.addEventListener('DOMContentLoaded', function() {\n            log.debug(\"Adaptable ES6 Admin settings JS DOM content loaded\");\n            stickyTabs();\n        });\n    }\n};\n"],"names":["e","_log","__esModule","default","_exports","init","stickyTabs","tabels","document","querySelectorAll","length","action","querySelector","forEach","tabel","addEventListener","event","log","debug","target","href","setAttribute","readyState"],"mappings":"wFA0B2B,IAAAA;;6EAA3BC,MAA2BD,EAA3BC,OAA2BD,EAAAE,WAAAF,EAAAG,CAAAA,QAAAH,GAkCzBI,SAAAC,KA7BkBA,KAChB,MAAMC,WAAaA,KACf,MAAMC,OAASC,SAASC,iBAAiB,wBACzC,GAAIF,OAAOG,OAAQ,CACf,MAAMC,OAASH,SAASI,cAAc,sBACtCL,OAAOM,SAAQC,QACXA,MAAMC,iBACF,SACCC,QACGC,KAAGd,QAACe,MAAM,eAAiBF,MAAMG,OAAOC,MACxCT,OAAOU,aAAa,SAAUL,MAAMG,OAAOC,KAAK,IAEpD,EACH,GAET,GAGJH,KAAAA,QAAIC,MAAM,qCACkB,YAAxBV,SAASc,YACTL,KAAAA,QAAIC,MAAM,8DACVZ,eAEAW,KAAAA,QAAIC,MAAM,0DACVV,SAASO,iBAAiB,oBAAoB,WAC1CE,KAAAA,QAAIC,MAAM,sDACVZ,YACJ,IACJ,CACF"}